<div class="form-group" style="width: 100%">
    <button type="button" class="btn btn-primary" (click)="skipWeek(-1)"><i class="bi bi-caret-left"></i></button>&nbsp;
    <input type="date" class="form-control" id="targetDate" value="{{rawdate}}" (change)="applyDatetime($event)" style="display: inline-block; width: min-content; position: relative; top: 3px;">&nbsp;
    <button type="button" class="btn btn-primary" (click)="skipWeek(1)"><i class="bi bi-caret-right"></i></button>
</div><br>
<div class="window">
    <div class="day timeslot">
        <p class="day-title timeslot">&nbsp;</p>
        <div class="index indexlesson timeslot timebar" *ngFor="let indice of lessonindices; index as i">
            {{lessontimes[i]}}
        </div>
    </div>
    <div class="day weekday{{i + 1}}" *ngFor="let day of days; index as i" >
        <p class="day-title">{{ dayjs().startOf("week").add(i, "days").format("dddd") }}</p>
        <div class="index indexlesson{{indice}}" *ngFor="let indice of lessonindices">
            <div class="subindex row">

                @if (isCollapsibleIndex(indice, day) == 1) {

                    <div class="lesson col btn btn-light box-shadow" *ngFor="let lesson of getdatabylessenindex(indice, day)" (click)="broker.setSelectEntry(lesson);openEnd()">
                        <span class="span {{lesson.lesson}}" >{{lesson.lesson}}</span>
                    </div>

                } @else if (isCollapsibleIndex(indice, day) == 2) {

                    <div class="col expansionButton" (click)="openMultilesson(getdatabylessenindex(indice, day))">
                        <i class="bi bi-box-seam"></i> Collapsed lessons
                    </div>

                }

            </div>
        </div>
    </div>
</div>
